[gd_scene load_steps=20 format=2]

[ext_resource path="res://assets/textures/WoodFloor043_1K-PNG/WoodFloor043_1K_AmbientOcclusion.png" type="Texture" id=1]
[ext_resource path="res://assets/textures/WoodFloor043_1K-PNG/WoodFloor043_1K_Roughness.png" type="Texture" id=2]
[ext_resource path="res://assets/textures/WoodFloor043_1K-PNG/WoodFloor043_1K_NormalGL.png" type="Texture" id=3]
[ext_resource path="res://assets/textures/WoodFloor043_1K-PNG/WoodFloor043_1K_Color.png" type="Texture" id=4]
[ext_resource path="res://assets/textures/WoodFloor043_1K-PNG/WoodFloor043_1K_Metalness.png" type="Texture" id=5]
[ext_resource path="res://assets/textures/Plaster001_1K-PNG/Plaster001_1K_Color.png" type="Texture" id=6]
[ext_resource path="res://assets/textures/Plaster001_1K-PNG/Plaster001_1K_Roughness.png" type="Texture" id=7]
[ext_resource path="res://assets/textures/Plaster001_1K-PNG/Plaster001_1K_NormalGL.png" type="Texture" id=8]
[ext_resource path="res://tests/player.gd" type="Script" id=9]
[ext_resource path="res://assets/furnitures_kenney/bathroomCabinet.glb" type="PackedScene" id=10]

[sub_resource type="NavigationMesh" id=3]
vertices = PoolVector3Array( 0.9, 0.197023, -0.71059, 1.2, 0.197023, -0.51059, 1.8, 0.197023, -0.51059, 1.8, 0.197023, -1.81059, -1.4, 0.197023, 0.48941, 0.8, 0.197023, -0.21059, 0.9, 0.197023, -0.71059, -1.4, 0.197023, 0.48941, 0.8, 0.197023, 0.38941, 0.8, 0.197023, -0.21059, -1.8, 0.197023, -1.81059, -1.8, 0.197023, 0.48941, -1.4, 0.197023, 0.48941, 0.9, 0.197023, -0.71059, 1.8, 0.197023, -1.81059, 1.1, 0.197023, -0.11059, 0.8, 0.197023, -0.21059, 0.8, 0.197023, 0.38941, 1.8, 0.197023, -0.51059, 1.2, 0.197023, -0.51059, 1.1, 0.197023, -0.11059, 1.8, 0.197023, 0.38941, 1.8, 0.197023, -0.51059, 1.1, 0.197023, -0.11059, 0.8, 0.197023, 0.38941, -1.3, 0.197023, 0.68941, -1.4, 0.197023, 0.48941, -1.8, 0.197023, 0.48941, -1.8, 0.197023, 1.78941, 1.8, 0.197023, 1.78941, 1.8, 0.197023, 0.68941, -1.3, 0.197023, 0.68941, -1.8, 0.197023, 1.78941 )
polygons = [ PoolIntArray( 1, 0, 2 ), PoolIntArray( 2, 0, 3 ), PoolIntArray( 6, 5, 4 ), PoolIntArray( 7, 9, 8 ), PoolIntArray( 11, 10, 12 ), PoolIntArray( 12, 10, 13 ), PoolIntArray( 13, 10, 14 ), PoolIntArray( 17, 16, 15 ), PoolIntArray( 18, 20, 19 ), PoolIntArray( 24, 23, 21 ), PoolIntArray( 21, 23, 22 ), PoolIntArray( 26, 25, 27 ), PoolIntArray( 27, 25, 28 ), PoolIntArray( 30, 29, 31 ), PoolIntArray( 31, 29, 32 ) ]
cell/size = 0.1
cell/height = 0.1
agent/height = 0.89
agent/radius = 0.1
agent/max_climb = 0.1

[sub_resource type="SpatialMaterial" id=2]
albedo_texture = ExtResource( 4 )
metallic_texture = ExtResource( 5 )
roughness_texture = ExtResource( 2 )
normal_enabled = true
normal_scale = 16.0
normal_texture = ExtResource( 3 )
ao_enabled = true
ao_light_affect = 0.0
ao_texture = ExtResource( 1 )
ao_on_uv2 = false
ao_texture_channel = 0
uv1_triplanar = true

[sub_resource type="QuadMesh" id=1]
material = SubResource( 2 )
size = Vector2( 4, 4 )

[sub_resource type="ConcavePolygonShape" id=8]
data = PoolVector3Array( -0.5, -0.5, 0, -0.5, 0.5, 0, 0.5, 0.5, 0, -0.5, -0.5, 0, 0.5, 0.5, 0, 0.5, -0.5, 0 )

[sub_resource type="SpatialMaterial" id=4]
albedo_texture = ExtResource( 6 )
roughness_texture = ExtResource( 7 )
normal_enabled = true
normal_scale = 1.0
normal_texture = ExtResource( 8 )
uv1_triplanar = true

[sub_resource type="QuadMesh" id=5]
material = SubResource( 4 )
size = Vector2( 1, 0.5 )

[sub_resource type="CubeMesh" id=9]
size = Vector3( 0.02, 0.5, 0.8 )

[sub_resource type="SphereShape" id=6]
radius = 0.1

[sub_resource type="SphereMesh" id=7]
radius = 0.1
height = 0.2
radial_segments = 32
rings = 16

[node name="Spatial" type="Spatial"]

[node name="Navigation" type="Navigation" parent="."]

[node name="NavigationMeshInstance" type="NavigationMeshInstance" parent="Navigation"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -0.00564694, 0, -0.00998068 )
navmesh = SubResource( 3 )

[node name="Floor" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0 )
mesh = SubResource( 1 )
skeleton = NodePath("../../..")
material/0 = null

[node name="StaticBody" type="StaticBody" parent="Navigation/NavigationMeshInstance/Floor"]

[node name="CollisionShape" type="CollisionShape" parent="Navigation/NavigationMeshInstance/Floor/StaticBody"]
shape = SubResource( 8 )

[node name="MeshInstance2" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( -3.99947, 0, -3.49645e-07, 0, 1, 0, 3.49645e-07, 0, -3.99947, 0.00697976, 0.247113, 1.98811 )
mesh = SubResource( 5 )
skeleton = NodePath("../../..")
material/0 = null

[node name="MeshInstance3" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( 3.99947, 0, 0, 0, 1, 0, 0, 0, 3.99947, 0.00697976, 0.247113, -1.98134 )
mesh = SubResource( 5 )
skeleton = NodePath("../../..")
material/0 = null

[node name="MeshInstance4" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( -1.74822e-07, 0, 3.99947, 0, 1, 0, -3.99947, 0, -1.74822e-07, -1.99819, 0.247113, -0.010854 )
mesh = SubResource( 5 )
skeleton = NodePath("../../..")
material/0 = null

[node name="MeshInstance5" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( -1.74822e-07, 0, -3.99947, 0, 1, 0, 3.99947, 0, -1.74822e-07, 1.99354, 0.247113, -0.010854 )
mesh = SubResource( 5 )
skeleton = NodePath("../../..")
material/0 = null

[node name="MeshInstance6" type="MeshInstance" parent="Navigation/NavigationMeshInstance"]
transform = Transform( -1.25523e-07, 0, -3.99947, 0, 1, 0, 2.87162, 0, -1.74822e-07, 0.389238, 0.247023, 0.548114 )
mesh = SubResource( 9 )
skeleton = NodePath("../../..")
material/0 = null

[node name="bathroomCabinet" parent="Navigation/NavigationMeshInstance" instance=ExtResource( 10 )]
transform = Transform( -0.00198965, 0, -0.999998, 0, 1, 0, 0.999998, 0, -0.00198965, 0.865071, 0, -0.715656 )

[node name="player" type="KinematicBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.57695, 0.201569, 1.66154 )
script = ExtResource( 9 )

[node name="CollisionShape" type="CollisionShape" parent="player"]
shape = SubResource( 6 )

[node name="MeshInstance" type="MeshInstance" parent="player"]
mesh = SubResource( 7 )
material/0 = null

[node name="Camera" type="Camera" parent="."]
transform = Transform( -0.850863, 0.312673, -0.422217, -0.034506, 0.768639, 0.638752, 0.524253, 0.55806, -0.643217, -2.20863, 2.74944, -3.42467 )
current = true

[node name="to" type="Position3D" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 1.15833, 0.240512, -1.58723 )
